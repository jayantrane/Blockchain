import base64
code = 'IyEvdXNyL2Jpbi9weXRob24yLjcKIyAtKi0gY29kaW5nOiBsYXRpbi0xIC0qLQppbXBvcnQgaGFzaGxpYgppbXBvcnQgYXJncGFyc2UKCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCgpUQVJHRVRfRElGRklDVUxUWSA9IDYgICMgTm8gb2YgcHJlY2VkaW5nIHplcm9zIHJlcXVpcmVkCgojIERlZmluZSBWYWx1ZXMgZnJvbSBhcmd1bWVudHMgcGFzc2VkCnBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgZm9ybWF0dGVyX2NsYXNzPWFyZ3BhcnNlLlJhd0Rlc2NyaXB0aW9uSGVscEZvcm1hdHRlciwKICAgIGRlc2NyaXB0aW9uPSIiIgogICAgQmxvY2tjaGFpbiBBc3NpZ25tZW50OgoKICAgIEhpIFRoZXJlISBUaGlzIGlzIGEgc2ltcGxlIGFzc2lnbm1lbnQgdG8gc2hvd2Nhc2UgaG93IEJsb2NrY2hhaW4gbWluaW5nIHdvcmtzLgogICAgU28gbGV0J3MgZ2V0IHN0YXJ0ZWQhCiAgICBMZXRzIGFzc3VtZSBhIGJsb2NrY2hhaW4gZm9yIEF0dGVuZGFuY2UuIEV2ZXJ5IEJsb2NrIGNvbnNpc3RzIG9mIHRoZSB1c2VyaWQsIHRpbWVzdGFtcCBhbmQgbm9uY2UuCiAgICBTbyB0aGlzIGlzIGEgUHJvb2Ygb2YgV29yayBiYXNlZCBCbG9ja2NoYWluIHdoZXJlIHRvIGdldCB5b3VyIGF0dGVuZGFuY2UgeW91IG5lZWQgdG8gY29tcHV0ZSB0aGUgCiAgICBub25jZSBzdWNoIHRoYXQgdGhlIGhhc2ggb2YgdGhlIGJsb2NrKGl0J3Mgc3RyaW5nIHJlcHJlc2VudGF0aW9uKSBtZWV0IGNlcnRhaW4gY3JpdGVyaWEuCiAgICBJbiBvdXIgY2FzZSB0aGUgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGhhc2ggbmVlZHMgdG8gaGF2ZSBhdGxlYXN0IDYgcHJlY2VkaW5nIHplcm9zIHRvIHBhc3MhCgogICAgRG8gbm90ZSB0aGF0IHRoZSB0aW1lc3RhbXAgaXMgdGFrZW4gYXV0b21hdGljYWxseSBzbyBlbnN1cmUgdGhhdCB5b3UgY2FsY3VsYXRlIHRoZSBub25jZSAKICAgIGZvciB0aGUgYmxvY2sgdGhhdCB3aWxsIGJlIGNyZWF0ZWQgb24gdGhlIGRheSB5b3UgaGF2ZSB0byBzdWJtaXQgdGhlIGFzc2lnbm1lbnQhCgogICAgRm9yIGNhbGN1bGF0aW5nIHRoZSBub25jZSB5b3UgY2FuIHRyeSBhbnl0aGluZyB5b3Ugd2FudC4gWW91IGNhbiBtYW51YWxseSB0cnkgZGlmZmVyZW50IHZhbHVlcyBmb3Igbm9uY2UKICAgIChoaWdobHkgZW5jb3VyYWdlZCA6UCkgb3Igd3JpdGUgYSBzY3JpcHQgdG8gZG8gaXQgZm9yIHlvdSwgCiAgICBUaGUgb25seSB0aGluZyB0aGF0IG1hdHRlcnMgaXMgdGhhdCB5b3UgZ2V0IHRoZSBmaXJzdCA2IGhleCB2YWx1ZXMgb2YgdGhlIGhhc2ggdG8gYmUgemVyby4KCiAgICBUaGUgQmxvY2sgc3RyaW5nIHJlcHJlc2VudGF0aW9uIGlzIGFzIGZvbGxvd3M6ICJCbG9jazogWyd0aW1lc3RhbXAnOnt9LCAndXNlcmlkJzp7fSwgJ25vbmNlJzp7fV0iCiAgICBUaW1lc3RhbXAgaXMgaW4gdGhlIGZvcm1hdCAnWVlZWTpNTTpERCcKICAgIEZvciBjYWxjdWxhdGluZyB0aGUgaGFzaCB3ZSB1c2UgU0hBMjU2IGFsZ29yaXRobS4oaHR0cHM6Ly9lbW4xNzguZ2l0aHViLmlvL29ubGluZS10b29scy9zaGEyNTYuaHRtbCkKICAgIAogICAgT25lIFNvbHZlZCBFeGFtcGxlOgogICAgRm9yIDFzdCBTZXB0ZW1iZXIgMjAxOSwgSWQ6IDE2MDAwMDAwMCB0aGUgbm9uY2UgaXMgNTEzODMxODAuIFRyeSBydW5uaW5nOgogICAgcHl0aG9uIG1pbmluZ19hc3NpZ25tZW50LnB5IC1pZCAxNjAwMDAwMDAgLW4gNTEzODMxODAgLWQgMjAxOTowOTowMQoKICAgIFNvIHlvdXIgdGFzayBpcyB0byBjYWxjdWxhdGUgdGhlIG5vbmNlKGEgaW50ZWdlciB2YWx1ZSkgZm9yIHlvdXIgUmVnaXN0cmF0aW9uIElEIAogICAgZm9yIHRoZSBnaXZlbiBzdWJtaXNzaW9uIGRhdGUgdG8gY29tcGxldGUgdGhpcyBhc3NpZ25tZW50IQogICAgIiIiLAogICAgZXBpbG9nPSJQUzogRXh0cmEgQ3JlZGl0cyBmb3IgdGhvc2Ugd2hvIGNhbiBleGNlZWQgdGhlIHBhc3NpbmcgY3JpdGVyaWEhIDpQIiwKKQpwYXJzZXIuYWRkX2FyZ3VtZW50KAogICAgIi1pZCIsCiAgICAiLS11c2VyLWlkIiwKICAgIHJlcXVpcmVkPVRydWUsCiAgICB0eXBlPWludCwKICAgIGhlbHA9IllvdXIgUmVnaXN0cmF0aW9uIElEIChleDogMTYwMDAwMDAwKSIsCiAgICBkZWZhdWx0PTE2MDAwMDAwLAopCnBhcnNlci5hZGRfYXJndW1lbnQoCiAgICAiLW4iLAogICAgIi0tbm9uY2UiLAogICAgcmVxdWlyZWQ9VHJ1ZSwKICAgIHR5cGU9aW50LAogICAgaGVscD0iTm9uY2UgdGhhdCB5b3UgaGF2ZSBjYWxjdWxhdGVkIChoYXMgdG8gYmUgYSBpbnRlZ2VyKSIsCiAgICBkZWZhdWx0PTAsCikKcGFyc2VyLmFkZF9hcmd1bWVudCgKICAgICItZCIsCiAgICAiLS1kYXRlIiwKICAgIHR5cGU9c3RyLAogICAgaGVscD0iRGF0ZSBpbiB0aGUgZm9ybWF0ICdZWVlZOk1NOkREJyIsCiAgICBkZWZhdWx0PWRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWTolbTolZCIpLAopCmFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCgoKY2xhc3MgQmxvY2s6CiAgICAiIiIgVGhlIGhlYWRlciBvZiBhIGJsb2NrICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0aW1lc3RhbXAsIHVzZXJpZCwgbm9uY2UpOgogICAgICAgICMgVGhlIHVzZXIgSUQgb2YgdGhlIHBlcnNvbiBjcmVhdGluZyB0aGUgYmxvY2sgKEZvcm1hdDogIjE2MTB4MDB4eCIpCiAgICAgICAgc2VsZi51c2VyaWQgPSBzdHIodXNlcmlkKQoKICAgICAgICAjIFRoZSBhcHByb3hpbWF0ZSBjcmVhdGlvbiB0aW1lIG9mIHRoaXMgYmxvY2sgKGRhdGUgaW4gZm9ybWF0ICJZWVlZOk1NOkREIikKICAgICAgICBzZWxmLnRpbWVzdGFtcCA9IHN0cih0aW1lc3RhbXApCgogICAgICAgICMgVGhlIHZhbHVlIG9mIG5vbmNlCiAgICAgICAgc2VsZi5ub25jZSA9IGludChub25jZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIkJsb2NrOiBbJ3RpbWVzdGFtcCc6e30sICd1c2VyaWQnOnt9LCAnbm9uY2UnOnt9XSIuZm9ybWF0KAogICAgICAgICAgICBzZWxmLnRpbWVzdGFtcCwgc2VsZi51c2VyaWQsIHNlbGYubm9uY2UKICAgICAgICApCgoKZGVmIGRoYXNoKHMpOgogICAgIiIiIHNoYTI1NiBoYXNoICIiIgogICAgaWYgbm90IGlzaW5zdGFuY2Uocywgc3RyKToKICAgICAgICBzID0gc3RyKHMpCiAgICBzID0gcy5lbmNvZGUoKQogICAgcmV0dXJuIGhhc2hsaWIuc2hhMjU2KHMpLmhleGRpZ2VzdCgpCgoKZGVmIGlzX3Byb3Blcl9kaWZmaWN1bHR5KHRhcmdldF9kaWZmaWN1bHR5LCBibG9ja2hhc2gpOgogICAgcG93ID0gMAogICAgZm9yIGMgaW4gYmxvY2toYXNoOgogICAgICAgIGlmIG5vdCBjID09ICIwIjoKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbHNlOgogICAgICAgICAgICBwb3cgKz0gMQogICAgaWYgcG93IDwgdGFyZ2V0X2RpZmZpY3VsdHk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICByZXR1cm4gVHJ1ZQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBibG9jayA9IEJsb2NrKGFyZ3MuZGF0ZSwgYXJncy51c2VyX2lkLCBhcmdzLm5vbmNlKQoKICAgIHByaW50KAogICAgICAgIGhhc2hsaWIuc2hhMjU2KAogICAgICAgICAgICAiQmxvY2s6IFsndGltZXN0YW1wJzoyMDE5OjA5OjAxLCAndXNlcmlkJzoxNjAwMDAwMDAsICdub25jZSc6MTIzNDU2NzhdIi5lbmNvZGUoKQogICAgICAgICkuaGV4ZGlnZXN0KCkKICAgICkKCiAgICBwcmludChibG9jaykKICAgIHByaW50KCJIYXNoOiIsIGRoYXNoKGJsb2NrKSkKICAgIGlmIGlzX3Byb3Blcl9kaWZmaWN1bHR5KFRBUkdFVF9ESUZGSUNVTFRZICsgMiwgZGhhc2goYmxvY2spKToKICAgICAgICBwcmludCgiPT09PT09PT09PT09PSBBd2Vzb21lISBFeHRyYSBtYXJrcyBmb3IgZXh0cmEgZWZmb3J0ISA6UCA9PT09PT09PT09PT09IikKICAgIGVsaWYgaXNfcHJvcGVyX2RpZmZpY3VsdHkoVEFSR0VUX0RJRkZJQ1VMVFksIGRoYXNoKGJsb2NrKSk6CiAgICAgICAgcHJpbnQoIisrKysrKysrKysgQXNzaWdubWVudCBEb25lISArKysrKysrKysrIikKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoIkRvZXMgbm90IG1lZXQgY3JpdGVyaWEsIEtlZXAgVHJ5aW5nISIpCg=='
eval(compile(base64.b64decode(code), '<string>', 'exec'))